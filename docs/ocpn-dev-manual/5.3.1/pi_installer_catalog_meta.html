<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: OpenCPN Developer Manual</title>
    <link rel="canonical" href="https://leamas.github.io/ocpn-manuals/ocpn-dev-manual/5.3.1/pi_installer_catalog_meta.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://leamas.github.io/ocpn-manuals">OpenCPN Developer Manual</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ocpn-dev-manual" data-version="5.3.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">OpenCPN Developer Manual</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Developer Manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Developer Guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="prerequisites.html">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="compiling_linux.html">Compiling on Linux</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="building-on-armhf-linux-armbian-orange-pi.html">Building on armhf linux - Armbian - Orange Pi</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="building_on_motorola_xoom.html">Building on Motorola Xoom</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="compiling_on_slackware.html">Compile on Slackware</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rpi2.html">Compile on Raspberry PI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="compiling_windows.html">Compiling on Windows</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="compiling_mac_osx.html">Compiling on macOS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="modularized_packaging.html">Modularized Packaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="code_formatting.html">Code Formatting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="messaging.html">Messaging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text">Developer Plugins</span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="bug_and_feature_tracking.html">Bugs and feature tracking</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pi_dependencies.html">PI Dependencies</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pi_installer_summary.html">PI Manager Summary</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pi_installler_dev_setup.html">PI Manager Dev Setup</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="pi_installer_catalog_meta.html">PI Manager Catalog &amp; Meta-Url</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pi_installer_summary.html">PI Manager Dev Procedure</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ci-push-build-to-git.html">CI: Push build to Git Release</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ci-push-linux-build-to-launchpad.html">CI: Push Linux Build to Launchpad</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ci_travis_encryption_windows.html">CI: Travis Encryption for Windows Dev</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="advanceddebugtips.html">CI Advanced Debug Tips</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="codacy.html">Codacy:Automate code quality</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="testquality.html">TestQuality -Test Management</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="online_tools.html">Online Nmea Tools</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="user_interface_styling.html">User Interface Styling</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="updating_the_user_manual.html">Updating the User Manual</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="gallery_boats.html">Boat Gallery</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../shipdriver/0.0.1/shipdriver.html">Shipdriver manual DEMO</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">OpenCPN Developer Manual</span>
    <span class="version">5.3.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">OpenCPN Developer Manual</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">5.3.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../plugin-installer/0.0.1/Home.html">Plugin Installer Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../plugin-installer/0.0.1/Home.html">0.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../shipdriver/0.0.1/shipdriver.html">ShipDriver OpenCPN plugin docs.</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../shipdriver/0.0.1/shipdriver.html">0.0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="developer_guide.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">OpenCPN Developer Manual</a></li>
    <li>Developer Manual</li>
    <li><a href="pi_installer_catalog_meta.html">PI Manager Catalog &amp; Meta-Url</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="paragraph">
<p><span class="image"><img src="_images/indexmenu_n&gt;11" alt="indexmenu_n&gt;11"></span></p>
</div>
<div class="sect1">
<h2 id="_pi_manager_catalog_meta_url"><a class="anchor" href="#_pi_manager_catalog_meta_url"></a>PI Manager Catalog &amp; Meta-Url</h2>
<div class="sectionbody">
<div class="paragraph">
<p>PI Manager uses ocpn-plugins.xml to provide the required metadata and
URLs for installation of plugins.</p>
</div>
<div class="paragraph">
<p>Ocpn-plugins.xml and associated metadata files are located in
<a href="https://github.com/OpenCPN/plugins/" class="bare">https://github.com/OpenCPN/plugins/</a></p>
</div>
<div class="paragraph">
<p>Batch files and scripts are available to help create this file
ocpn-plugins.xml is created from the individual plugin metadata files
located in the data directory.</p>
</div>
<div class="paragraph">
<p>Please review the <a href="https://github.com/OpenCPN/plugins">Readme</a> file.</p>
</div>
<div class="paragraph">
<p>In summary</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ocpn-plugins.xml is maintained within the project
<a href="https://github.com/OpenCPN/plugins">https:__github.com/OpenCPN/plugins</a>]</p>
<div class="ulist">
<ul>
<li>
<p>Users can download updated versions directly from github (=this
project
[[https:__github.com/OpenCPN/plugins|https://github.com/OpenCPN/plugins]).</p>
</li>
</ul>
</div>
</li>
<li>
<p>Devs can clone this repo and create their own variant which is
accessible from the GU using a custom URL.</p>
</li>
<li>
<p>Devs can issue PR:s against this repo to have their updates
incorporated in the main ocpn-plugins-xml.</p>
</li>
<li>
<p>Dave has access to build the ocpn-plugins.xml in the master branch of
the repository.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The scripts require Python</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_metadata_xml_files_to_the_beta_branch"><a class="anchor" href="#_add_metadata_xml_files_to_the_beta_branch"></a>Add Metadata.xml files to the Beta Branch</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you have build and deployed the 10-12 build environments to your
Cloudsmith Repository, you should check the files in the repository and
files, and then get the xml&#8217;s into the Beta Catalog. For Example:
<a href="https://cloudsmith.io/~mauro-calvi/repos/squiddio-manual/packages/?page=1" class="bare">https://cloudsmith.io/~mauro-calvi/repos/squiddio-manual/packages/?page=1</a>
Download each of the recent xml files to a local directory, using the
green button at the end and selecting "Save Link".</p>
</div>
<div class="paragraph">
<p>Then from your local github directory, &lt;code&gt; git clone
<a href="https://github.com/OpenCPN/plugins.git" class="bare">https://github.com/OpenCPN/plugins.git</a> plugins&lt;/code&gt;</p>
</div>
<div class="paragraph">
<p>You want to clone this. <a href="https://github.com/OpenCPN/plugins" class="bare">https://github.com/OpenCPN/plugins</a> Then checkout
the Beta branch.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git checkout -b Beta
git fetch</pre>
</div>
</div>
<div class="paragraph">
<p>Then copy your metada files (after looking at some of them for errors)
to the metadata directory. Then, reading the README run the python
script to join the metadata files into one file call ocpn_plugin.xml
Then run the URL check on the file to make sure all urls are good.</p>
</div>
<div class="paragraph">
<p>Then you can make a PR to the Beta branch to Dave (bdbcat) at
OpenCPN/plugins</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_meta_url_on_alpha_branch"><a class="anchor" href="#_create_a_meta_url_on_alpha_branch"></a>Create a Meta-url on Alpha Branch</h2>
<div class="sectionbody">
<div class="paragraph">
<p>META-URL&#8217;s are only accepted on the
<a href="https://github.com/OpenCPN/plugins/tree/Alpha">github.com/opencpn/plugins/Alpha
Branch</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From your local Github repository<br>
<code>git clone https://github.com/[GitUser]/OpenCPN/plugins.git</code></p>
</li>
<li>
<p>Then to go to the Alpha branch.<br>
<code>git checkout Alpha</code></p>
</li>
<li>
<p>From the Alpha branch create your own new corresponding branch which
will contain your testing metadata.xml&#8217;s.<br>
<code>git checkout -b [YourName]-alpha</code></p>
</li>
<li>
<p>Now go back to the Alpha branch to create your own META-URL xml
file.<br>
<code>git checkout Alpha</code></p>
</li>
<li>
<p>Create and add your own Meta-url xml file in<br>
<code>[GitUser]/plugins/Alpha/metadata</code> alongside the other Plugin Dev xml
files.</p>
</li>
<li>
<p>This file will have a META-URL redirect to your new private branch.
Example follows:</p>
</li>
<li>
<p>In this case the path &amp; file is<br>
<code>[GitUser]/plugins/Alpha/metadata/meta-url-alpha-seandepagnier-rgleason.xml</code></p>
</li>
<li>
<p>The text in the xml file is:</p>
</li>
</ol>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;plugin version="1"&gt;
  &lt;name&gt; Sean Depagnier Alpha Plugins meta-url &lt;/name&gt;
  &lt;version&gt; 1.0 &lt;/version&gt;
  &lt;summary&gt; meta-url to Sean's Alpha Plugins by rgleason &lt;/summary&gt;
    &lt;meta-url&gt; https://raw.githubusercontent.com/rgleason/plugins/rg-alpha/ocpn-plugins.xml &lt;/meta-url&gt;
&lt;/plugin&gt;</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check the new file for format, accuracy and complete tags.</p>
</li>
<li>
<p>Next run the python tool to build a new ocpn-plugins.xml by executing
at the command prompt from the /plugins/ directory<br>
''python tools/ocpn-metadata generate –force –userdir metadata –destfile
ocpn-plugins.xml ''</p>
</li>
<li>
<p>See the README. This command collects all the files into one file. You
will need to have python configured on your computer.</p>
</li>
<li>
<p>Then check that Alpha branch has a good ocpn-plugins.xml containing
the xml data needed to direct to the cloud sources, including yours and
other plugin meta-url redirects.</p>
</li>
<li>
<p>Now git push your changes to the <code>Alpha</code> branch up to your remote
repository, and then push it to 'opencpn/plugins/Alpha'.</p>
</li>
<li>
<p>Wait for your PR to be accepted.</p>
</li>
<li>
<p>Your new private branch
\`[github user]/plugins branch:[YourName]-alpha`</p>
</li>
<li>
<p>Now needs to be populated with metadata xmls from your Cloudsmith
directory. In my case the branch is<br>
''github.com/rgleason/OpenCPN/plugins/rg-alpha
`+ - Copy Cloudsmith metadata xml files for plugins into +`github.com/rgleason/OpenCPN/plugins/rg-alpha/metadata
''</p>
</li>
<li>
<p>Check those xml for format and complete tags.</p>
</li>
<li>
<p>Then collect the metadata xmls into a new <code>ocpn-plugins.xml</code> file
with<br>
''python tools/ocpn-metadata generate –force –userdir metadata –destfile
ocpn-plugins.xml ''</p>
</li>
<li>
<p>Note order of xml data may change, causing it to appear that the PR
has more changes than it actually does.</p>
</li>
<li>
<p>Then push the new files in that branch up to your remote, so that
there are some metadata.xml files for your new META-URL in the <code>Alpha</code>
branch to link to, so that you can test some plugins in the current
Developer&#8217;s version of Opencpn.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="https://github.com/OpenCPN/plugins/pull/19">#19 Pull Request from
opencpn/plugins/rgleason:rg-alpha to opencpn/plugins:Alpha</a></p>
</div>
<div class="paragraph">
<p>Also here is another example with
<a href="https://github.com/mauroc/squiddio_pi/issues/114">squiddio</a></p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Fork and build (Windows) :: OpenCPN Developer Manual</title>
    <link rel="canonical" href="https://leamas.github.io/ocpn-manuals/ocpn-dev-manual/5.3.1/fork_build_windows.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://leamas.github.io/ocpn-manuals">OpenCPN Developer Manual</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ocpn-dev-manual" data-version="5.3.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">OpenCPN Developer Manual</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Developer Manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="community.html">Community</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="prerequisites.html">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="compiling_linux.html">Compiling on Linux</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="building-on-armhf-linux-armbian-orange-pi.html">Building on armhf linux - Armbian - Orange Pi</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="building_on_motorola_xoom.html">Building on Motorola Xoom</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="compiling_on_slackware.html">Compile on Slackware</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rpi2.html">Compile on Raspberry PI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="compiling_windows.html">Compiling on Windows</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="compiling_mac_osx.html">Compiling on macOS</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="modularized_packaging.html">Modularized Packaging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="code_formatting.html">Code Formatting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="messaging.html">Messaging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Plugin API</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="plugin_api_versions.html">Plugin API Versions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ocpn_draw_odapi.html">OCPN Draw ODAPI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="standalone_plugin_compilation.html">Plugin Compilation Win</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="troubleshooting_plugins.html">Troubleshooting Plugins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="plugin_guidelines.html">Plugin Guidelines</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="plugin_documentation.html">Plugin Documentation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="plugin_submissions.html">Plugin Submissions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Learning</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="testplugin.html">Testplugin and Frontend2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="demo_plugin.html">Demonstration Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="coding_solutions.html">Coding Solutions</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="fork_build_windows.html">Fork and Build (Windows)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="oplaydo1.html">oplaydo1 (Windows)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fork_and_build_linux.html">Fork and Build (Linux)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="oplaydo1_linux.html">oplaydo1 (Linux)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="bug_and_feature_tracking.html">Bugs and feature tracking</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pi_dependencies.html">PI Dependencies</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pi_installer_summary.html">PI Manager Summary</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pi_installler_dev_setup.html">PI Manager Dev Setup</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pi_installer_catalog_meta.html">PI Manager Catalog &amp; Meta-Url</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pi_installer_summary.html">PI Manager Dev Procedure</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ci-push-build-to-git.html">CI: Push build to Git Release</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ci-push-linux-build-to-launchpad.html">CI: Push Linux Build to Launchpad</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ci_travis_encryption_windows.html">CI: Travis Encryption for Windows Dev</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="advanceddebugtips.html">CI Advanced Debug Tips</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="codacy.html">Codacy:Automate code quality</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="testquality.html">TestQuality -Test Management</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="online_tools.html">Online Nmea Tools</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="user_interface_styling.html">User Interface Styling</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="updating_the_user_manual.html">Updating the User Manual</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../shipdriver/0.0.1/shipdriver.html">Shipdriver manual DEMO</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">OpenCPN Developer Manual</span>
    <span class="version">5.3.1</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../AlternativeWorkflow/index.html">Alternative Managed Workflow for OpenCPN plugins</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../AlternativeWorkflow/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">OpenCPN Developer Manual</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">5.3.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../plugin-installer/0.0.1/Home.html">Plugin Installer Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../plugin-installer/0.0.1/Home.html">0.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../shipdriver/0.0.1/shipdriver.html">ShipDriver OpenCPN plugin docs.</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../shipdriver/0.0.1/shipdriver.html">0.0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="developer_guide.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">OpenCPN Developer Manual</a></li>
    <li>Developer Manual</li>
    <li>Learning</li>
    <li><a href="fork_build_windows.html">Fork and Build (Windows)</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Fork and build (Windows)</h1>
<div class="sect1">
<h2 id="_requirements"><a class="anchor" href="#_requirements"></a>Requirements</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Register with GitHub and obtained a profile. This allows the setting
up of repositories where your code can be published.</p>
</li>
<li>
<p><a href="/opencpn/developer_manual/developer_guide/compiling_windows">Visual
Studio 2013</a></p>
</li>
<li>
<p><a href="/opencpn/developer_manual/developer_guide/compiling_windows">Git</a></p>
</li>
<li>
<p><a href="/opencpn/developer_manual/developer_guide/compiling_windows">CMake</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_process"><a class="anchor" href="#_process"></a>Process</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_obtain_a_copy_of_dr_pi"><a class="anchor" href="#_obtain_a_copy_of_dr_pi"></a>Obtain a copy of DR_pi</h3>
<div class="paragraph">
<p>Register with GitHub and login to your profile.</p>
</div>
<div class="paragraph">
<p>Navigate to <a href="https://github.com/Rasbats/DR_pi" class="bare">https://github.com/Rasbats/DR_pi</a></p>
</div>
<div class="paragraph">
<p>Press the 'Fork' button</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/github_fork.png" alt="github_fork.png"></span></p>
</div>
<div class="paragraph">
<p>Go back to your own profile and you will find a find a copy of DR_pi</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/oplaydo_fork.png" alt="oplaydo_fork.png"></span></p>
</div>
<div class="paragraph">
<p>Make a folder for your projects. Here it is 'C:\learning'</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/file_explorer_learning.png" alt="file_explorer_learning.png"></span></p>
</div>
<div class="paragraph">
<p>Go back to your repository and select 'Clone or download'. Using 'Copy'
to add the link to your clipboard.
<span class="image"><img src="_images/github_clone.png" alt="github_clone.png"></span></p>
</div>
<div class="paragraph">
<p>Open a command prompt, cd to 'C:\learning'. Type 'git clone ' and then
right-click paste.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/command_prompt.png" alt="command_prompt.png"></span></p>
</div>
<div class="paragraph">
<p>Run this.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/command_prompt2.png" alt="command_prompt2.png"></span></p>
</div>
<div class="paragraph">
<p>You will find a new folder has been made under learning called 'DR_pi'.</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_cmake"><a class="anchor" href="#_using_cmake"></a>Using CMake</h3>
<div class="paragraph">
<p>Because I have two versions of wxWidgets on my machine I prefer to use
CMake-gui.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/cmake.png" alt="cmake.png"></span></p>
</div>
<div class="paragraph">
<p>The source code folder is entered and where the build will be made. If
this does not exist it will be created for you.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/vs2013.png" alt="vs2013.png"></span></p>
</div>
<div class="paragraph">
<p>And press the 'Configure' button.</p>
</div>
<div class="paragraph">
<p>On this next screen a few changes need to be made.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/cmake_corrections.png" alt="cmake_corrections.png"></span></p>
</div>
<div class="paragraph">
<p>The 'msw' has been changed to 'mswu' to use unicode. The 'vc_dll' folder
of wxWidgets is pointing to the correct version of wxWidgets, and the
main wxWidgets folder is correct. We need to be using wxWidgets 3.0.2.</p>
</div>
<div class="paragraph">
<p>Now press 'Generate' to make the VS2013 solution in the 'build' folder.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/learning_build.png" alt="learning_build.png"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_using_visual_studio_2013"><a class="anchor" href="#_using_visual_studio_2013"></a>Using Visual Studio 2013</h3>
<div class="paragraph">
<p>To allow standalone compilation you need to download 'opencpn.lib' from
<a href="https://opencpn.org/wiki/dokuwiki/lib/exe/fetch.php?media=opencpn:dev:oplaydo:opencpn.lib.zip">here</a>
(unzip and extract the file). Place it in the same 'build' folder shown
above.</p>
</div>
<div class="paragraph">
<p>Your build folder will look like this:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/explorer_opencpn.lib.png" alt="explorer_opencpn.lib.png"></span></p>
</div>
<div class="paragraph">
<p>Open the solution file (.sln) with Visual Studio 2013.</p>
</div>
<div class="paragraph">
<p>First step is to link the opencpn.lib library you have just downloaded.
Right-click on 'DR_pi' in 'Solution Explorer'. This opens a 'Property'
page.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/vs_linker.png" alt="vs_linker.png"></span></p>
</div>
<div class="paragraph">
<p>Select 'Linker', 'Input'. On the right you see 'Additional
Dependencies'. This line can be edited by using a drop-down. Make a new
line and add 'opencpn.lib' to the top of the list. Then 'OK' and 'Apply'
what you have changed.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/vs_addional_dependencies.png" alt="vs_addional_dependencies.png"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/vs_ad_apply.png" alt="vs_ad_apply.png" width="200"></span></p>
</div>
<div class="paragraph">
<p>Now back in the main screen choose 'Release' from the drop-down on the
toolbar.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/vs_build_choice.png" alt="vs_build_choice.png"></span></p>
</div>
<div class="paragraph">
<p>And the final step is to press 'Build'. Use 'Build Solution' or 'F7' for
building and compiling the plugin.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/vs_build.png" alt="vs_build.png"></span></p>
</div>
<div class="paragraph">
<p>The plugin is built in 'learning\DR_pi\build\Release' folder. It is
called "DR_pi.dll".</p>
</div>
<div class="paragraph">
<p>If you get an error saying 'Fabs' could not be found, try replacing
'Fabs' with 'abs'.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_the_plugin"><a class="anchor" href="#_installing_the_plugin"></a>Installing the plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Copy 'DR_pi.dll' from the 'Release' folder to the plugins folder of the
main OpenCPN program.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/p_release.png" alt="p_release.png"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/p_pasted.png" alt="p_pasted.png"></span></p>
</div>
<div class="paragraph">
<p>When you enable the DR plugin you should see the plugin icon on the
toolbar.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/p_on_toolbar.png" alt="p_on_toolbar.png"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/p_working.png" alt="p_working.png"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notes"><a class="anchor" href="#_notes"></a>Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The copy of 'opencpn.lib' downloaded to use with this guide was made
with OpenCPN 4.2.0 source code. The plugin will still run in O 4.4.0
because plugins need to be upwardly compatible.</p>
</div>
<div class="paragraph">
<p>When functions from new versions of the API are needed you will need to
source a new version of 'opencpn.lib'.</p>
</div>
<div class="paragraph">
<p><strong>The next guide will show the DR_pi plugin being renamed and modified.
</strong></p>
</div>
<div class="paragraph">
<p><strong>'oplaydo1_pi' will allow the user to input start and finish positions.
From these positions a GPX file will be created that can be imported and
viewed in OpenCPN. </strong></p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
